# Module 05: Go + PostgreSQL Integration ğŸ”Œ

<div dir="rtl">

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ÙÙŠ Ø§Ù„Ù€ Module Ø¯Ù‡ Ù‡Ù†ØªØ¹Ù„Ù… Ø¥Ø²Ø§ÙŠ Ù†Ø±Ø¨Ø· Go Ù…Ø¹ PostgreSQL. Ù‡Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `database/sql` ÙˆÙ†ÙˆØµÙ„ Ù„Ù€ GORM ORM ÙˆØ§Ù„Ù€ migrations ÙˆØ§Ù„Ù€ patterns Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.

**Ø§Ù„Ù…Ø³ØªÙˆÙ‰:** Ù…ØªÙˆØ³Ø· - Ù…ØªÙ‚Ø¯Ù…
**Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:** 5-6 Ø³Ø§Ø¹Ø§Øª

</div>

---

## ğŸ“š ÙÙ‡Ø±Ø³ Ø§Ù„Ø¯Ø±ÙˆØ³

### ğŸ”Œ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

| # | Ø§Ù„Ø¯Ø±Ø³ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø¯Ø© |
|---|-------|-------|-------|
| 01 | [database/sql Basics](./lessons/01-database-sql.md) | Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ database/sql | 25 Ø¯Ù‚ÙŠÙ‚Ø© |
| 02 | [pgx Driver](./lessons/02-pgx-driver.md) | Ø§Ø³ØªØ®Ø¯Ø§Ù… pgx Ù„Ù„Ù€ PostgreSQL | 25 Ø¯Ù‚ÙŠÙ‚Ø© |
| 03 | [Connection Pooling](./lessons/03-connection-pooling.md) | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ connections | 20 Ø¯Ù‚ÙŠÙ‚Ø© |

### ğŸ“ Ø¹Ù…Ù„ÙŠØ§Øª CRUD

| # | Ø§Ù„Ø¯Ø±Ø³ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø¯Ø© |
|---|-------|-------|-------|
| 04 | [Basic CRUD](./lessons/04-basic-crud.md) | Ø¹Ù…Ù„ÙŠØ§Øª CRUD Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© | 30 Ø¯Ù‚ÙŠÙ‚Ø© |
| 05 | [Prepared Statements](./lessons/05-prepared-statements.md) | Ø§Ù„Ù€ statements Ø§Ù„Ù…Ø¬Ù‡Ø²Ø© | 20 Ø¯Ù‚ÙŠÙ‚Ø© |
| 06 | [Transactions in Go](./lessons/06-transactions.md) | Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Transactions | 25 Ø¯Ù‚ÙŠÙ‚Ø© |

### ğŸ—ï¸ GORM ORM

| # | Ø§Ù„Ø¯Ø±Ø³ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø¯Ø© |
|---|-------|-------|-------|
| 07 | [GORM Basics](./lessons/07-gorm-basics.md) | Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ GORM | 30 Ø¯Ù‚ÙŠÙ‚Ø© |
| 08 | [GORM Models](./lessons/08-gorm-models.md) | ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù€ Models | 25 Ø¯Ù‚ÙŠÙ‚Ø© |
| 09 | [GORM Relations](./lessons/09-gorm-relations.md) | Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙÙŠ GORM | 30 Ø¯Ù‚ÙŠÙ‚Ø© |
| 10 | [GORM Advanced](./lessons/10-gorm-advanced.md) | Ù…ÙŠØ²Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© | 25 Ø¯Ù‚ÙŠÙ‚Ø© |

### ğŸ”„ Migrations

| # | Ø§Ù„Ø¯Ø±Ø³ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø¯Ø© |
|---|-------|-------|-------|
| 11 | [Database Migrations](./lessons/11-migrations.md) | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ schema | 25 Ø¯Ù‚ÙŠÙ‚Ø© |
| 12 | [golang-migrate](./lessons/12-golang-migrate.md) | Ø£Ø¯Ø§Ø© golang-migrate | 25 Ø¯Ù‚ÙŠÙ‚Ø© |

### ğŸ­ Patterns & Best Practices

| # | Ø§Ù„Ø¯Ø±Ø³ | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø¯Ø© |
|---|-------|-------|-------|
| 13 | [Repository Pattern](./lessons/13-repository-pattern.md) | Repository Pattern | 25 Ø¯Ù‚ÙŠÙ‚Ø© |
| 14 | [Error Handling](./lessons/14-error-handling.md) | Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | 20 Ø¯Ù‚ÙŠÙ‚Ø© |
| 15 | [Testing Database Code](./lessons/15-testing.md) | Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„Ù€ database | 25 Ø¯Ù‚ÙŠÙ‚Ø© |

---

## ğŸ¯ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù€ Module

<div dir="rtl">

Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù€ ModuleØŒ Ø³ØªØªÙ…ÙƒÙ† Ù…Ù†:

1. **Ø§Ù„Ø§ØªØµØ§Ù„** Ø¨Ù€ PostgreSQL Ù…Ù† Go Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ©
2. **ØªÙ†ÙÙŠØ° CRUD** Ø¨ÙƒÙØ§Ø¡Ø© ÙˆØ£Ù…Ø§Ù†
3. **Ø§Ø³ØªØ®Ø¯Ø§Ù… GORM** Ù„Ù„Ù€ ORM Ù…Ø¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
4. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ migrations** Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
5. **ØªØ·Ø¨ÙŠÙ‚ patterns** Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙÙŠ ÙƒÙˆØ¯ Ø§Ù„Ù€ database
6. **Ø§Ø®ØªØ¨Ø§Ø±** ÙƒÙˆØ¯ Ø§Ù„Ù€ database

</div>

---

## ğŸ“Š Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Go Application                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   HTTP Handler  â”‚    â”‚  Business Logic â”‚    â”‚  Repository   â”‚  â”‚
â”‚   â”‚   (Gin/Fiber)   â”‚â”€â”€â”€â–¶â”‚    (Services)   â”‚â”€â”€â”€â–¶â”‚   (Data)      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          Data Layer                      â”‚          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                                                               â”‚ â”‚
â”‚   â”‚   Option 1: database/sql + pgx                               â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚   â”‚  - Raw SQL queries                                    â”‚   â”‚ â”‚
â”‚   â”‚   â”‚  - Full control                                       â”‚   â”‚ â”‚
â”‚   â”‚   â”‚  - Better performance for complex queries             â”‚   â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â”‚                                                               â”‚ â”‚
â”‚   â”‚   Option 2: GORM ORM                                         â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚   â”‚  - Auto-generate SQL                                  â”‚   â”‚ â”‚
â”‚   â”‚   â”‚  - Easier relationships                               â”‚   â”‚ â”‚
â”‚   â”‚   â”‚  - Auto-migrations                                    â”‚   â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â”‚                                                               â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚                                  â”‚
â”‚                           Connection Pool                            â”‚
â”‚                                   â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   PostgreSQL    â”‚
                          â”‚    Database     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Ù…ØªØ·Ù„Ø¨Ø§Øª Ù…Ø³Ø¨Ù‚Ø©

<div dir="rtl">

### Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

</div>

```bash
# Go 1.21+
go version

# PostgreSQL 14+
psql --version

# Ø¥Ù†Ø´Ø§Ø¡ database Ù„Ù„ØªØ¬Ø±Ø¨Ø©
createdb golearn
```

<div dir="rtl">

### Ø§Ù„Ù€ Packages Ø§Ù„Ù„ÙŠ Ù‡Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§

</div>

```bash
# pgx - PostgreSQL driver
go get github.com/jackc/pgx/v5
go get github.com/jackc/pgx/v5/stdlib

# GORM ORM
go get -u gorm.io/gorm
go get -u gorm.io/driver/postgres

# Migrations
go get -u github.com/golang-migrate/migrate/v4

# Testing
go get github.com/stretchr/testify
go get github.com/DATA-DOG/go-sqlmock
```

---

## ğŸ”§ Database vs ORM: Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù… Ø¥ÙŠÙ‡ØŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    When to Use What?                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   database/sql + pgx                                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚   âœ“ Complex queries with JOINs                                      â”‚
â”‚   âœ“ Performance-critical operations                                 â”‚
â”‚   âœ“ Bulk operations (COPY)                                          â”‚
â”‚   âœ“ Full control over SQL                                           â”‚
â”‚   âœ“ PostgreSQL-specific features                                    â”‚
â”‚                                                                      â”‚
â”‚   GORM ORM                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚   âœ“ Rapid prototyping                                               â”‚
â”‚   âœ“ Simple CRUD operations                                          â”‚
â”‚   âœ“ Auto-migrations during development                              â”‚
â”‚   âœ“ Relationships management                                        â”‚
â”‚   âœ“ Database-agnostic code                                          â”‚
â”‚                                                                      â”‚
â”‚   Hybrid Approach (Recommended)                                      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚   âœ“ GORM for simple CRUD                                            â”‚
â”‚   âœ“ Raw SQL for complex queries                                     â”‚
â”‚   âœ“ Best of both worlds                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù€ Module

```
05-go-postgres-integration/
â”œâ”€â”€ README.md
â”œâ”€â”€ lessons/
â”‚   â”œâ”€â”€ 01-database-sql.md
â”‚   â”œâ”€â”€ 02-pgx-driver.md
â”‚   â”œâ”€â”€ 03-connection-pooling.md
â”‚   â”œâ”€â”€ 04-basic-crud.md
â”‚   â”œâ”€â”€ 05-prepared-statements.md
â”‚   â”œâ”€â”€ 06-transactions.md
â”‚   â”œâ”€â”€ 07-gorm-basics.md
â”‚   â”œâ”€â”€ 08-gorm-models.md
â”‚   â”œâ”€â”€ 09-gorm-relations.md
â”‚   â”œâ”€â”€ 10-gorm-advanced.md
â”‚   â”œâ”€â”€ 11-migrations.md
â”‚   â”œâ”€â”€ 12-golang-migrate.md
â”‚   â”œâ”€â”€ 13-repository-pattern.md
â”‚   â”œâ”€â”€ 14-error-handling.md
â”‚   â””â”€â”€ 15-testing.md
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ 01-simple-api/
â”‚   â”œâ”€â”€ 02-user-management/
â”‚   â””â”€â”€ 03-e-commerce/
â””â”€â”€ resources/
    â”œâ”€â”€ go-postgres-cheatsheet.md
    â””â”€â”€ common-errors.md
```

---

## ğŸ“– Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©

<div dir="rtl">

Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù€ ModuleØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ØªÙ…Ø§Ù…:

</div>

- [x] [Module 01: Installation & Setup](../01-installation-setup/README.md)
- [x] [Module 02: SQL Basics](../02-sql-basics/README.md)
- [x] [Module 03: CRUD Operations](../03-crud-operations/README.md)
- [x] [Module 04: Joins & Relations](../04-joins-relations/README.md)

---

## ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù…

<div dir="rtl">

Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„:

</div>

**â¡ï¸ [database/sql Basics](./lessons/01-database-sql.md)**

---

<div align="center">

[â¬…ï¸ Module Ø§Ù„Ø³Ø§Ø¨Ù‚: Joins](../04-joins-relations/README.md) | [ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©](../README.md) | [Module Ø§Ù„ØªØ§Ù„ÙŠ: Advanced â¡ï¸](../06-advanced-topics/README.md)

</div>
